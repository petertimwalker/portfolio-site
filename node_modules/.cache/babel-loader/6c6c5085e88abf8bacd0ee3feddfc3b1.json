{"ast":null,"code":"import _regeneratorRuntime from\"/Users/petewalker/Desktop/portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/petewalker/Desktop/portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/petewalker/Desktop/portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import Hero from\"../components/Hero\";import axios from\"axios\";function BookSearch(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),book=_useState2[0],setBook=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),height=_useState4[0],setHeight=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),result=_useState6[0],setResult=_useState6[1];var _useState7=useState(\"AIzaSyDt5mXFwvWgydKIRaJuWccj2yKB8VtXCms\"),_useState8=_slicedToArray(_useState7,2),apiKey=_useState8[0],setApiKey=_useState8[1];var bookShelf=[];function handleChange(event){var book=event.target.value;setBook(book);}function handleHeight(event){var height=event.target.value;setHeight(height);}function filterBooks(_x){return _filterBooks.apply(this,arguments);}function _filterBooks(){_filterBooks=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(book){var h,boolDim,boolIL,boolTN,bool;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:h=0;boolDim=false;boolIL=false;boolTN=false;_context.next=6;return axios.get(\"https://www.googleapis.com/books/v1/volumes/\"+book.id+\"?key=\"+apiKey).then(function(data){if(data.data.volumeInfo.hasOwnProperty(\"dimensions\")){boolDim=true;h=data.data.volumeInfo.dimensions.height;}if(data.data.volumeInfo.hasOwnProperty(\"imageLinks\")){boolIL=true;}if(boolIL&&data.data.volumeInfo.imageLinks.hasOwnProperty(\"thumbnail\")){boolTN=true;}}).catch(function(){console.log(\"error\");});case 6:bool=boolDim&&boolIL&&boolTN&&h<=height;console.log(book.volumeInfo.title+\"\\nhas dimensions \"+boolDim+\"\\nhas a height of \"+h+\"\\nhas a imageLinks \"+boolIL+\"\\nhas a thumbnail \"+boolTN+\"\\n=> \"+bool);return _context.abrupt(\"return\",bool);case 9:case\"end\":return _context.stop();}}},_callee);}));return _filterBooks.apply(this,arguments);}function makeCover(book){if(book===undefined){}else{return/*#__PURE__*/React.createElement(\"a\",null,\" \",book.title);}}function handleSubmit(_x2){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();setResult([]);_context2.next=4;return axios.get(\"https://www.googleapis.com/books/v1/volumes?q=\"+book+\"&orderBy=newest&printType=books&key=\"+apiKey).then(function(data){//console.log(data.data.items);\nsetResult(data.data.items);}).catch(function(){console.log(\"error\");});case 4:case\"end\":return _context2.stop();}}},_callee2);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Hero,{title:props.title}),/*#__PURE__*/React.createElement(\"div\",{class:\"container\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"div\",{class:\"form-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",onChange:handleChange,className:\"form-control mt-10\",placeholder:\"search for books\",autoComplete:\"off\"}),/*#__PURE__*/React.createElement(\"br\",{className:\"p-5\"}),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",onChange:handleHeight,className:\"form-input\",placeholder:\"enter max height in cm\",autoComplete:\"off\"}),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-danger\"},\"search\"))),result.filter(filterBooks).map(function(book){return book===undefined?/*#__PURE__*/React.createElement(\"a\",null,\"hi\"):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"a\",null,book.volumeInfo.title));})));}/*\nresult.filter(filterBooks).map(async (book) =>\n          (\n            <a target=\"_blank\" href={await book.volumeInfo.previewLink}>\n              <img\n                src={await book.volumeInfo.imageLinks.thumbnail}\n                alt={await book.title}\n              />\n            </a>\n          ).catch()\n        )\n\n        {bookShelf.map((book) => (\n          <p>{book.volumeInfo.title}</p>\n        ))}\n*/export default BookSearch;","map":{"version":3,"sources":["/Users/petewalker/Desktop/portfolio-site/src/pages/BookSearch.js"],"names":["React","useState","Hero","axios","BookSearch","props","book","setBook","height","setHeight","result","setResult","apiKey","setApiKey","bookShelf","handleChange","event","target","value","handleHeight","filterBooks","h","boolDim","boolIL","boolTN","get","id","then","data","volumeInfo","hasOwnProperty","dimensions","imageLinks","catch","console","log","bool","title","makeCover","undefined","handleSubmit","preventDefault","items","filter","map"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport Hero from \"../components/Hero\";\nimport axios from \"axios\";\n\nfunction BookSearch(props) {\n  const [book, setBook] = useState(\"\");\n  const [height, setHeight] = useState(\"\");\n  const [result, setResult] = useState([]);\n  const [apiKey, setApiKey] = useState(\n    \"AIzaSyDt5mXFwvWgydKIRaJuWccj2yKB8VtXCms\"\n  );\n  var bookShelf = [];\n\n  function handleChange(event) {\n    const book = event.target.value;\n    setBook(book);\n  }\n\n  function handleHeight(event) {\n    const height = event.target.value;\n    setHeight(height);\n  }\n\n  async function filterBooks(book) {\n    let h = 0;\n    let boolDim = false;\n    let boolIL = false;\n    let boolTN = false;\n    let bool;\n    await axios\n      .get(\n        \"https://www.googleapis.com/books/v1/volumes/\" +\n          book.id +\n          \"?key=\" +\n          apiKey\n      )\n      .then((data) => {\n        if (data.data.volumeInfo.hasOwnProperty(\"dimensions\")) {\n          boolDim = true;\n          h = data.data.volumeInfo.dimensions.height;\n        }\n        if (data.data.volumeInfo.hasOwnProperty(\"imageLinks\")) {\n          boolIL = true;\n        }\n        if (\n          boolIL &&\n          data.data.volumeInfo.imageLinks.hasOwnProperty(\"thumbnail\")\n        ) {\n          boolTN = true;\n        }\n      })\n      .catch(() => {\n        console.log(\"error\");\n      });\n    bool = boolDim && boolIL && boolTN && h <= height;\n    console.log(\n      book.volumeInfo.title +\n        \"\\nhas dimensions \" +\n        boolDim +\n        \"\\nhas a height of \" +\n        h +\n        \"\\nhas a imageLinks \" +\n        boolIL +\n        \"\\nhas a thumbnail \" +\n        boolTN +\n        \"\\n=> \" +\n        bool\n    );\n\n    return bool;\n  }\n\n  function makeCover(book) {\n    if (book === undefined) {\n    } else {\n      return <a> {book.title}</a>;\n    }\n  }\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n    setResult([]);\n    await axios\n      .get(\n        \"https://www.googleapis.com/books/v1/volumes?q=\" +\n          book +\n          \"&orderBy=newest&printType=books&key=\" +\n          apiKey\n      )\n      .then((data) => {\n        //console.log(data.data.items);\n        setResult(data.data.items);\n      })\n      .catch(() => {\n        console.log(\"error\");\n      });\n  }\n\n  return (\n    <div>\n      <Hero title={props.title}></Hero>\n      <div class=\"container\">\n        <form onSubmit={handleSubmit}>\n          <div class=\"form-group\">\n            <input\n              type=\"text\"\n              onChange={handleChange}\n              className=\"form-control mt-10\"\n              placeholder=\"search for books\"\n              autoComplete=\"off\"\n            />\n            <br className=\"p-5\"></br>\n            <input\n              type=\"text\"\n              onChange={handleHeight}\n              className=\"form-input\"\n              placeholder=\"enter max height in cm\"\n              autoComplete=\"off\"\n            />\n            <button type=\"submit\" className=\"btn btn-danger\">\n              search\n            </button>\n          </div>\n        </form>\n        {result.filter(filterBooks).map((book) =>\n          book === undefined ? (\n            <a>hi</a>\n          ) : (\n            <div>\n              <a>{book.volumeInfo.title}</a>\n            </div>\n          )\n        )}\n      </div>\n    </div>\n  );\n}\n/*\nresult.filter(filterBooks).map(async (book) =>\n          (\n            <a target=\"_blank\" href={await book.volumeInfo.previewLink}>\n              <img\n                src={await book.volumeInfo.imageLinks.thumbnail}\n                alt={await book.title}\n              />\n            </a>\n          ).catch()\n        )\n\n        {bookShelf.map((book) => (\n          <p>{book.volumeInfo.title}</p>\n        ))}\n*/\n\nexport default BookSearch;\n"]},"metadata":{},"sourceType":"module"}